# ProjectRtanDungeonAdventure
 ProjectRtanDungeonAdventure

# 프로젝트 현황
최종 제목: 도시에 곰(공)이?! [The Bear(Balls) in the city?!]<br/>
## 목표 기능 열람<br/>
* 목표 기능
  * 필수 기능
    * 기본 이동 및 점프
      * Input System을 이용하여 플레이어의 입력을 지원하였습니다.
      * 현재 적용 된 기능에는 이동, 점프, 대쉬, 달리기, 카메라 회전, 상호작용(습득)이 있습니다.
    * 체력바 UI
      * 캐릭터의 능력치 자원을 최대치와 현재 수치, 회복량으로 구성한 뒤, Image를 가지고 있게 하여 해당 Image의 fillAmount를 조절하도록 구성하였습니다.
      * 체력바와 스테미너 바를 해당 방식으로 구현하였습니다.
    * 동적 환경 조사
      * 카메라의 가운데에서 Raycast를 통해서 물체를 판별하도록 구성하였습니다.
    * 점프대
      * 플레이어나 적, 아이템에 해당하는 Layer를 가진 물체가 닿을 시 위쪽으로 AddForce를 하도록 하는 초록 발판을 추가하였습니다.
    * 아이템 데이터
      * 아이템의 데이터를 Scriptable Object로 구성하여 객체의 내부 데이터로 원활하게 사용할 수 있게끔 구성하였습니다.
      * 또한, 해당 데이터를 가지고 있는 Dictionary도 GameManager에서 들고 있도록 구성하여 전 객체에서 원활하게 정보를 받아올 수 있도록 구성하였습니다.
    * 아이템 사용
      * 아이템을 습득 후 사용하도록 하지 않고, 필드에 놓여진 아이템에 상호작용하면 바로 사용되도록 구성하였습니다.
      * 아이템의 효과는 효과 종류 별로 개별로 적용되며, 효과 시간이 끝나면 효과가 없어지도록 구성하였습니다.
      * 구체적인 방식은 아이템 습득 시 효과를 캐릭터에게 부여하면서 능력치가 증가하고, 효과가 만료되면 효과가 제거되면서 증가한 능력치를 다시 감소시키는 방식입니다.
  * 도전 기능
    * 추가 UI
      * 상술한 캐릭터 자원(체력, 스테미너) 이외에도 점수, 제한 시간, 곰(추적자) 체력, 열차 지연도를 표시하게끔 구성하였습니다.
    * 3인칭 시점
      * 캐릭터는 반드시 정면으로 이동하고, 이동 방향에 맞춰서 캐릭터가 회전하도록 구성하였습니다.
      * 추가로, 플레이어 캐릭터는 카메라 위치에 맞춰서 이동 방향이 보정되도록 구성되어 있습니다.
    * 움직이는 플랫폼 구현
      * 캐릭터가 바닥에 닿아있는 지 판단할 때, 해당 바닥의 정보를 가지고 있으면서 해당 바닥의 위치 변화를 캐릭터에게도 적용하도록 구성하였습니다.
      * 본 프로젝트에서는 열차 상단부로 테스트가 가능합니다.
    * 벽타기 및 매달리기 [미구현]
      * 캐릭터에 정면을 판정하는 Raycast를 높이가 다르게 3개를 구성, 전방 장애물의 높이를 판정한다 [구현 완료]
      * 전방 장애물의 높이에 맞춰서 타고 올라가는 기능을 추가한다 [미구현]
      * 만약 모든 Raycast에 물체가 감지되었고, 현재 체공 중이라면, 중력이 무효화된 이후 이동 기능이 벽타기 기능으로 전환된다. [미구현]
    * 다양한 아이템 구현
      * 본 프로젝트에는 총 5개의 아이템이 구현되어 있습니다.
    * 장비 장착
      * 상호작용 시 영구 지속되는 아이템이 비치되어 있습니다.
      * 클래스는 소모품과 동일하게 사용하나, enum값을 이용하여 종류를 구분하고, 이를 습득하는 과정에서 종류에 따라서 다른 효과가 발휘되도록 구성하였습니다.
    * 레이저 트랩
      * 열차의 전면부에 Raycast를 이용해서 플레이어 캐릭터를 감지하고, 감지되면 화면의 주의 문구를 활성화 하는 기능을 추가하였습니다.
    * 상호작용 가능한 오브젝트 표시
      * 동적 환경 조사에서 사용한 Raycast에 감지된 물체에게 감지되었음을 알리는 기능을 추가하였습니다.
      * 아이템 오브젝트는 감지된 상태라면 World Space로 제작된 UI가 활성화되고, 감지 상태가 해제되면 비활성화 되도록 구성하였습니다.
      * 상호작용 정보 UI는 카메라 위치에 맞춰서 회전하도록 구성되어 있습니다.
    * 플랫폼 발사기
      * 지정된 시간 동안 닿아있다면 정해진 방향으로 발사하는 빨간 발판을 추가하였습니다.
      * 추가로, 열차에도 전면부에 닿을 시 피해를 주면서 날려버리는 기능을 추가하였습니다.
      * 작동 방식은 AddForce로 구현하되, 일정 시간 및 조건에 따라서 캐릭터가 이동할 수 없게끔 구성하였습니다.
        * 본 프로젝트는 캐릭터의 이동을 velocity 변화로 작성하였기에 단순히 AddForce만 사용하면 캐릭터가 날라가지 않습니다.
        * 때문에, 날려지면 0.2초(변동 가능) 동안 이동 불가 상태로 만든 뒤, 공중에 있다면 이동 불가 상태가 풀리지 않도록 구성하여 정상적으로 날려지게끔 구성하였습니다.
    * 발전된 AI
      * 곰에게 AI Navigator 패키지의 Nav Mesh Agent를 부여하여 플레이어를 최적경로로 추적하도록 구성하였습니다.
        * 지면은 이동 가능 영역(비용 1)으로 구성하였습니다.
        * 건물과 분수는 이동 불가 영역으로 구성하였습니다.
        * 열차는 Nav Mesh Obstacle을 이용하여 방해물으로 판정되어 회피하도록 구성되어 있습니다.
        * 점프대 초록 발판은 이동 가능 영역(비용 2)으로, 발사대 빨간 발판은 이동 가능 영역(비용 3)으로 구성되어 있습니다.
      * 일정 거리 안에 있다면 멈춰서서 플레이어를 향해서 방향을 바꾸게끔 구성하였습니다.
      * 일정 거리 안에 있다면 일정 주기로 플레이어를 공격하도록 구성하였습니다.
